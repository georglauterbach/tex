%   ┌───────────────────────────────────────────────────────┐
%   |
% ? | Loads packages that need to be loaded at the end.
% ? | Also applies patches.
%   |
% ! | Must be loaded last.
% ! | Should generally be loaded.
%   |
%   └───────────────────────────────────────────────────────┘

% ? >> patches

% https://tex.stackexchange.com/questions/328128/strange-behaviour-in-biblatex-online-without-year
\usepackage{xpatch}
\xpatchbibdriver{online}
{\printtext[parens]{\usebibmacro{date}}}
{\iffieldundef{year}{}{\printtext[parens]{\usebibmacro{date}}}}
{}{}

% ? > loaded last

\usepackage[autostyle]{csquotes}
\usepackage[nameinlink,noabbrev]{cleveref}

\ifenglish%

\crefname{subsection}{section}{sections}
\crefname{subsubsection}{subsection}{subsections}
\crefname{paragraph}{paragraph}{paragraphs}

\ifframesloaded%

\crefname{definition-counter}{definition}{definitions}
\crefname{lemma-counter}{lemma}{lemmas}
\crefname{axiom-counter}{axiom}{axioms}
\crefname{notation-counter}{notation}{notations}
\crefname{problem-counter}{problem}{problems}

\crefname{theorem-counter}{theorem}{theorems}
\crefname{corollary-counter}{corollary}{corollaries}
\crefname{proof-counter}{proof}{proofs}
\crefname{example-counter}{example}{examples}

\fi% ifframesloaded

\else% ifenglish

\crefname{subsection}{Sektion}{Sektionen}
\crefname{subsubsection}{Untersektion}{Untersektionen}
\crefname{paragraph}{Paragraph}{Paragraphen}

\ifframesloaded%

\crefname{definition-counter}{Definition}{Definitionen}
\crefname{lemma-counter}{Lemma}{Lemmas}
\crefname{axiom-counter}{Axiom}{Axiome}
\crefname{notation-counter}{Notation}{Notationen}
\crefname{problem-counter}{Problem}{Probleme}

\crefname{theorem-counter}{Satz}{Sätze}
\crefname{corollary-counter}{Korellar}{Korellare}
\crefname{proof-counter}{Beweis}{Beweise}
\crefname{example-counter}{Beispiel}{Beispiele}

\fi% ifframesloaded

\fi% ifenglish
